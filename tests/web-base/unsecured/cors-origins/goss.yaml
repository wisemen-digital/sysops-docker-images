---
snippets:
  cors-normal: &cors-normal
    body:
      - Hey from style.css
    status: 200
    url: http://localhost:80/style.css
  cors-prefetch: &cors-prefetch
    method: OPTIONS
    status: 204
    url: http://localhost:80/style.css

http:
  # Normal requests
  cors apple normal:
    <<: *cors-normal
    headers:
      - 'Access-Control-Allow-Origin: https://apple.com'
      - 'Access-Control-Allow-Credentials: true'
    request-headers:
      - 'Origin: https://apple.com'
  cors google normal:
    <<: *cors-normal
    headers:
      - 'Access-Control-Allow-Origin: https://google.com'
      - 'Access-Control-Allow-Credentials: true'
    request-headers:
      - 'Origin: https://google.com'

  # Prefetches
  cors apple prefetch:
    <<: *cors-prefetch
    headers:
      - 'Access-Control-Allow-Origin: https://apple.com'
      - 'Access-Control-Allow-Credentials: true'
    request-headers:
      - 'Origin: https://apple.com'
  cors google prefetch:
    <<: *cors-prefetch
    headers:
      - 'Access-Control-Allow-Origin: https://google.com'
      - 'Access-Control-Allow-Credentials: true'
    request-headers:
      - 'Origin: https://google.com'
  cors denied prefetch:
    <<: *cors-prefetch
    request-headers:
      - 'Origin: https://example.com'
    status: 403

